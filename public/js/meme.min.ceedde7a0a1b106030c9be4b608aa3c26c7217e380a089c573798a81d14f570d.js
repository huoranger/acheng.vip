const throttle=(e,t)=>{let s,o,n;return function(){const i=this,a=arguments;s?(clearTimeout(o),o=setTimeout(function(){Date.now()-n>=t&&(e.apply(i,a),n=Date.now())},Math.max(t-(Date.now()-n),0))):(e.apply(i,a),n=Date.now(),s=!0)}},delayTime=420;window.addEventListener("DOMContentLoaded",e=>{const t=document.querySelector(".header");if(t){const e=window.getComputedStyle(t,null).getPropertyValue("height");document.documentElement.style.setProperty("--header-height",e)}},{once:!0}),window.addEventListener("DOMContentLoaded",e=>{const n=document.querySelector(".nav-toggle"),o=document.createElement("div");o.className="nav-toggle-inner",n.appendChild(o);for(let e=0;e<3;e++){const t=document.createElement("span");o.appendChild(t)}const s=document.getElementById("nav-toggle"),t=document.querySelector(".header"),i=document.querySelector(".nav-curtain");s.addEventListener("change",e=>{e.target.checked?(t.classList.add("open"),n.classList.add("open"),t.classList.remove("fade"),i.style="display: block"):(t.classList.remove("open"),n.classList.remove("open"),t.classList.add("fade"))}),i.addEventListener("animationend",e=>{s.checked||e.target.removeAttribute("style")}),window.addEventListener("scroll",throttle(function(){l()},delayTime));const r=window.getComputedStyle(document.documentElement,null).getPropertyValue("--max-width");let c=window.matchMedia(`(max-width: ${r})`);c.addListener(e=>{e.matches||a(!0)});function l(){const e=document.getElementById("search-input");if(e&&e===document.activeElement)return;a()}function a(e){s.checked&&(s.checked=!1,t.classList.remove("open"),n.classList.remove("open"),e?i.removeAttribute("style"):t.classList.add("fade"))}},{once:!0}),window.addEventListener("DOMContentLoaded",e=>{const t=document.getElementById("back-to-top");t!==null&&window.addEventListener("scroll",throttle(function(){window.scrollY>100?t.classList.add("show"):t.classList.remove("show")},delayTime))},{once:!0});const enableDarkMode=!0,overrideSystemPreferences=!1,defaultTheme="light";function shouldOverrideSystemPreferences(){return enableDarkMode&&overrideSystemPreferences}function isThemeSwitchingAllowed(){return!shouldOverrideSystemPreferences()}let userPreference;shouldOverrideSystemPreferences()?userPreference=defaultTheme:userPreference=localStorage.getItem("theme")||"system",applyThemeFromPreference(userPreference);const mediaQuery=window.matchMedia("(prefers-color-scheme: dark)");mediaQuery.addEventListener("change",()=>{getUserPreference()==="system"&&isThemeSwitchingAllowed()&&(applyThemeFromPreference("system"),changeMode())}),window.addEventListener("DOMContentLoaded",()=>{changeMode(),updateThemeIcons(getUserPreference());const e=document.getElementById("theme-switcher");e&&e.addEventListener("click",e=>{e.preventDefault(),isThemeSwitchingAllowed()&&(cycleTheme(),changeMode())})},{once:!0}),window.addEventListener("storage",function(e){if(e.key!=="theme")return;isThemeSwitchingAllowed()&&(applyThemeFromPreference(e.newValue||"system"),changeMode())});function getUserPreference(){return shouldOverrideSystemPreferences()?defaultTheme:localStorage.getItem("theme")||"system"}function getSystemPreference(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function getCurrentTheme(){return document.documentElement.getAttribute("data-theme")||getSystemPreference()}function applyThemeFromPreference(e){let t;shouldOverrideSystemPreferences()?t=defaultTheme:e==="system"?t=getSystemPreference():t=e,changeModeMeta(t),updateThemeIcons(e)}function cycleTheme(){if(!isThemeSwitchingAllowed())return;const t=getUserPreference();let e;switch(t){case"light":e="dark";break;case"dark":e="system";break;case"system":default:e="light";break}localStorage.setItem("theme",e),applyThemeFromPreference(e)}function updateThemeIcons(e){const s=document.querySelectorAll(".theme-icon-light, .theme-icon-dark, .theme-icon-system");s.forEach(e=>e.style.display="none");let t;shouldOverrideSystemPreferences()?t=`.theme-icon-${defaultTheme}`:t=`.theme-icon-${e}`;const n=document.querySelector(t);n&&(n.style.display="inline-block")}function changeModeMeta(e){document.documentElement.setAttribute("data-theme",e)}function changeMode(){const e=getCurrentTheme()==="dark",t=e?"#16171d":"#fff";if(document.querySelector('meta[name="theme-color"]').setAttribute("content",t),typeof mermaidConfig!="undefined"){const t=document.querySelectorAll(".mermaid");t.forEach(e=>{e.getAttribute("data-processed")?(e.removeAttribute("data-processed"),e.innerHTML=e.getAttribute("data-graph")):e.setAttribute("data-graph",e.textContent)}),e?(mermaidConfig.theme="dark",mermaid.initialize(mermaidConfig),mermaid.init()):(mermaidConfig.theme="default",mermaid.initialize(mermaidConfig),mermaid.init())}}window.addEventListener("DOMContentLoaded",e=>{const t="复制",s="已复制";document.querySelectorAll(".post-body > pre").forEach(e=>{const t=document.createElement("div");e.parentNode.replaceChild(t,e),t.appendChild(e)});function n(e){const n=document.querySelectorAll("table.lntable, .highlight > pre, .post-body > div > pre");n.forEach(n=>{n.parentNode.style.position="relative";const o=document.createElement("button");o.className="copy-button",o.type="button",o.innerText=t;let i;n.classList.contains("lntable")?i=n.querySelectorAll(".lntd")[1]:i=n.querySelector("code"),o.addEventListener("click",()=>{e.writeText(i.innerText).then(()=>{o.blur(),o.innerText=s,setTimeout(()=>{o.innerText=t},1e3)}).catch(e=>{o.innerText="Error",console.error(e)})}),n.appendChild(o),n.parentNode.addEventListener("mouseover",()=>{o.style="visibility: visible; opacity: 1"}),n.parentNode.addEventListener("mouseout",()=>{o.style="visibility: hidden; opacity: 0"})})}if(navigator&&navigator.clipboard)n(navigator.clipboard);else{const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/clipboard-polyfill@2.8.6/dist/clipboard-polyfill.min.js",e.defer=!0,e.onload=function(){n(clipboard)},document.head.appendChild(e)}},{once:!0}),window.onload=function(){var e=document.getElementsByClassName("anchor-link");for(let t=0;t<e.length;t++)e[t].innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg>'}